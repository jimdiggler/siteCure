{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Input, Output, NgModule } from '@angular/core';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i1$1 from 'ngx-sharebuttons';\nimport { SHARE_BUTTONS, SHARE_BUTTONS_CONFIG } from 'ngx-sharebuttons';\nimport * as i2 from 'ngx-sharebuttons/button';\nimport { ShareButtonModule } from 'ngx-sharebuttons/button';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@fortawesome/angular-fontawesome';\nfunction ShareButtons_div_0_share_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"share-button\", 3);\n    i0.ɵɵlistener(\"opened\", function ShareButtons_div_0_share_button_1_Template_share_button_opened_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.opened.emit($event));\n    })(\"closed\", function ShareButtons_div_0_share_button_1_Template_share_button_closed_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.closed.emit($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const button_r4 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"button\", button_r4)(\"theme\", ctx_r2.theme)(\"url\", ctx_r2.url)(\"title\", ctx_r2.title)(\"description\", ctx_r2.description)(\"image\", ctx_r2.image)(\"tags\", ctx_r2.tags)(\"autoSetMeta\", ctx_r2.autoSetMeta)(\"showIcon\", ctx_r2.showIcon)(\"showText\", ctx_r2.showText)(\"size\", ctx_r2.size)(\"disabled\", ctx_r2.disabled);\n  }\n}\nfunction ShareButtons_div_0_expand_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"expand-button\", 4);\n    i0.ɵɵlistener(\"toggle\", function ShareButtons_div_0_expand_button_2_Template_expand_button_toggle_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.updateState({\n        expanded: $event\n      }));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"sb-button sb-\", ctx_r3.theme, \"\");\n    i0.ɵɵproperty(\"expanded\", state_r1.expanded)(\"moreIcon\", state_r1.moreIcon)(\"lessIcon\", state_r1.lessIcon)(\"size\", (1 + ctx_r3.size / 20) * 14)(\"moreAriaLabel\", state_r1.moreAriaLabel)(\"lessAriaLabel\", state_r1.lessAriaLabel);\n  }\n}\nfunction ShareButtons_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ShareButtons_div_0_share_button_1_Template, 1, 12, \"share-button\", 1);\n    i0.ɵɵtemplate(2, ShareButtons_div_0_expand_button_2_Template, 1, 9, \"expand-button\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"sb-group sb-\", ctx_r0.theme, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", state_r1.selectedButtons);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", state_r1.shownCount < state_r1.userButtons.length);\n  }\n}\nlet ExpandButton = /*#__PURE__*/(() => {\n  class ExpandButton {\n    constructor(el) {\n      this.toggle = new EventEmitter();\n      el.nativeElement.style.setProperty('--button-color', '#FF6651');\n    }\n  }\n  ExpandButton.ɵfac = function ExpandButton_Factory(t) {\n    return new (t || ExpandButton)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  ExpandButton.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ExpandButton,\n    selectors: [[\"expand-button\"]],\n    inputs: {\n      moreIcon: \"moreIcon\",\n      lessIcon: \"lessIcon\",\n      expanded: \"expanded\",\n      size: \"size\",\n      moreAriaLabel: \"moreAriaLabel\",\n      lessAriaLabel: \"lessAriaLabel\"\n    },\n    outputs: {\n      toggle: \"toggle\"\n    },\n    decls: 4,\n    vars: 4,\n    consts: [[1, \"sb-wrapper\", \"sb-expand\", \"sb-show-icon\", 3, \"click\"], [1, \"sb-content\"], [1, \"sb-icon\"], [3, \"icon\"]],\n    template: function ExpandButton_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ExpandButton_Template_button_click_0_listener() {\n          return ctx.toggle.emit(!ctx.expanded);\n        });\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"fa-icon\", 3);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"font-size\", ctx.size, \"px\");\n        i0.ɵɵattribute(\"aria-label\", ctx.expanded ? ctx.lessAriaLabel : ctx.moreAriaLabel);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"icon\", ctx.expanded ? ctx.lessIcon : ctx.moreIcon);\n      }\n    },\n    dependencies: [i1.FaIconComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ExpandButton;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ShareButtons = /*#__PURE__*/(() => {\n  class ShareButtons {\n    constructor(_share) {\n      this._share = _share;\n      this._state$ = new BehaviorSubject({\n        includedButtons: [],\n        excludedButtons: [],\n        userButtons: [],\n        selectedButtons: [],\n        expanded: true,\n        shownCount: Object.keys(SHARE_BUTTONS).length\n      });\n      this._configSub$ = Subscription.EMPTY;\n      this.theme = this._share.config.theme;\n      /** Show buttons icons */\n      this.showIcon = true;\n      /** Show buttons text */\n      this.showText = false;\n      /** Buttons size */\n      this.size = 0;\n      /** Share dialog opened event */\n      this.opened = new EventEmitter();\n      /** Share dialog closed event */\n      this.closed = new EventEmitter();\n    }\n    ngOnInit() {\n      this.state$ = this._state$.pipe(map(state => {\n        // Use component include buttons, otherwise fallback to global include buttons\n        const includedButtons = state.includedButtons && state.includedButtons.length ? state.includedButtons : state.userButtons;\n        const userButtons = state.excludedButtons ? includedButtons.filter(btn => state.excludedButtons.indexOf(btn) < 0) : includedButtons;\n        const selectedButtons = userButtons.slice(0, state.expanded ? userButtons.length : state.shownCount);\n        return {\n          userButtons,\n          selectedButtons,\n          expanded: state.expanded,\n          shownCount: state.shownCount,\n          moreIcon: state.moreIcon,\n          lessIcon: state.lessIcon,\n          moreAriaLabel: state.moreAriaLabel,\n          lessAriaLabel: state.lessAriaLabel\n        };\n      }));\n      // Subscribe to share buttons config changes, This updates the component whenever a new button is added\n      this._configSub$ = this._share.config$.subscribe(config => {\n        // Use global include buttons, otherwise fallback to all buttons\n        const includedButtons = config.include.length ? config.include : Object.keys(SHARE_BUTTONS);\n        const userButtons = includedButtons.filter(btn => config.exclude.indexOf(btn) < 0);\n        this.updateState({\n          userButtons,\n          expanded: false,\n          moreIcon: config.moreButtonIcon,\n          lessIcon: config.lessButtonIcon,\n          moreAriaLabel: config.moreButtonAriaLabel,\n          lessAriaLabel: config.lessButtonAriaLabel\n        });\n      });\n    }\n    ngOnChanges(changes) {\n      const shouldUpdate = changes['include'] && changes['include'].currentValue !== changes['include'].previousValue || changes['exclude'] && changes['exclude'].currentValue !== changes['exclude'].previousValue || changes['show'] && changes['show'].currentValue !== changes['show'].previousValue;\n      if (shouldUpdate) {\n        this.updateState({\n          includedButtons: this.include,\n          excludedButtons: this.exclude,\n          shownCount: this.show\n        });\n      }\n    }\n    ngOnDestroy() {\n      this._configSub$.unsubscribe();\n      this._state$.complete();\n    }\n    updateState(state) {\n      this._state$.next(Object.assign(Object.assign({}, this._state$.value), state));\n    }\n  }\n  ShareButtons.ɵfac = function ShareButtons_Factory(t) {\n    return new (t || ShareButtons)(i0.ɵɵdirectiveInject(i1$1.ShareService));\n  };\n  ShareButtons.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ShareButtons,\n    selectors: [[\"share-buttons\"]],\n    inputs: {\n      theme: \"theme\",\n      include: \"include\",\n      exclude: \"exclude\",\n      show: \"show\",\n      url: \"url\",\n      title: \"title\",\n      description: \"description\",\n      image: \"image\",\n      tags: \"tags\",\n      autoSetMeta: \"autoSetMeta\",\n      showIcon: \"showIcon\",\n      showText: \"showText\",\n      size: \"size\",\n      disabled: \"disabled\"\n    },\n    outputs: {\n      opened: \"opened\",\n      closed: \"closed\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"class\", 4, \"ngIf\"], [3, \"button\", \"theme\", \"url\", \"title\", \"description\", \"image\", \"tags\", \"autoSetMeta\", \"showIcon\", \"showText\", \"size\", \"disabled\", \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [3, \"class\", \"expanded\", \"moreIcon\", \"lessIcon\", \"size\", \"moreAriaLabel\", \"lessAriaLabel\", \"toggle\", 4, \"ngIf\"], [3, \"button\", \"theme\", \"url\", \"title\", \"description\", \"image\", \"tags\", \"autoSetMeta\", \"showIcon\", \"showText\", \"size\", \"disabled\", \"opened\", \"closed\"], [3, \"expanded\", \"moreIcon\", \"lessIcon\", \"size\", \"moreAriaLabel\", \"lessAriaLabel\", \"toggle\"]],\n    template: function ShareButtons_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ShareButtons_div_0_Template, 3, 5, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.state$));\n      }\n    },\n    dependencies: [i2.ShareButton, ExpandButton, i4.NgIf, i4.NgForOf, i4.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:inherit;--sb-margin: .3125em}\"],\n    changeDetection: 0\n  });\n  return ShareButtons;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ShareButtonsModule = /*#__PURE__*/(() => {\n  class ShareButtonsModule {\n    static withConfig(config) {\n      return {\n        ngModule: ShareButtonsModule,\n        providers: [{\n          provide: SHARE_BUTTONS_CONFIG,\n          useValue: config\n        }]\n      };\n    }\n  }\n  ShareButtonsModule.ɵfac = function ShareButtonsModule_Factory(t) {\n    return new (t || ShareButtonsModule)();\n  };\n  ShareButtonsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ShareButtonsModule\n  });\n  ShareButtonsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[ShareButtonModule, CommonModule], ShareButtonModule]\n  });\n  return ShareButtonsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ShareButtons, ShareButtonsModule };\n//# sourceMappingURL=ngx-sharebuttons-buttons.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}